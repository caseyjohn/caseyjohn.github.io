<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Wi-Fi SSID and Password Generator</title>
</head>
<body>
  <h1>Wi-Fi SSID and Password Generator</h1>
  <p>Enter the last 6 digits of the MAC address:</p>
  <input type="text" id="macInput" maxlength="12" placeholder="e.g., 1A2B3C">
  <button onclick="generateSSID()">Generate</button>

  <h2>Generated Wi-Fi Details</h2>
  <p><strong>SSID:</strong> <span id="ssidOutput"></span></p>
  <p><strong>Password:</strong> <span id="passwordOutput"></span></p>

  <script>
    // Fonction principale pour générer SSID et mot de passe
    async function generateSSID() {
      const mac = document.getElementById('macInput').value.trim();
      if (!mac || mac.length !== 12) {
        alert("Please enter exactly 6 characters for the MAC address.");
        return;
      }

      // Hachage SHA-256
      const sha = await hashSHA256(mac);

      // SSID (les 32 premiers caractères après CRC32)
      let ssidPart = sha.slice(0, 32);
      const ssidCRC32 = `tX_Encounter_${crc32(ssidPart)}`;

      // Mot de passe (32 derniers caractères inversés)
      let pass = sha.slice(-32).split('').reverse().join('');

      // Mise à jour de la page
      document.getElementById('ssidOutput').textContent = ssidCRC32;
      document.getElementById('passwordOutput').textContent = pass;
    }

    // Fonction de hachage SHA-256
    async function hashSHA256(input) {
      const encoder = new TextEncoder();
      const data = encoder.encode(input);
      const hashBuffer = await crypto.subtle.digest('SHA-256', data);
      const hashArray = Array.from(new Uint8Array(hashBuffer));
      return hashArray.map(byte => byte.toString(16).padStart(2, '0')).join('');
    }

    // Fonction CRC32 (implémentation complète)
    function crc32(str) {
      let crc = 0 ^ -1;
      for (let i = 0; i < str.length; i++) {
        crc = (crc >>> 8) ^ crcTable[(crc ^ str.charCodeAt(i)) & 0xff];
      }
      return (crc ^ -1) >>> 0;
    }

    // Table CRC32
    const crcTable = (() => {
      let c;
      const table = [];
      for (let n = 0; n < 256; n++) {
        c = n;
        for (let k = 0; k < 8; k++) {
          c = (c & 1) ? (0xEDB88320 ^ (c >>> 1)) : (c >>> 1);
        }
        table[n] = c;
      }
      return table;
    })();
  </script>
</body>
</html>
